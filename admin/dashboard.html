<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8" />
  <title>ЁЯЫбя╕П Admin Panel - News247</title>
  <script src="https://www.gstatic.com/firebasejs/10.3.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.3.1/firebase-database.js"></script>
  <style>
    body { font-family: sans-serif; padding: 20px; background: #f9f9f9; }
    .section { margin-bottom: 30px; padding: 15px; background: #fff; border-radius: 8px; box-shadow: 0 0 5px #ccc; }
    input, textarea, button { display: block; margin: 10px 0; padding: 8px; width: 100%; max-width: 500px; }
    .news-item { border: 1px solid #ddd; padding: 10px; margin: 10px 0; background: #fefefe; }
    .logo { max-height: 60px; margin-top: 10px; }
  </style>
</head>
<body>
  <h1>ЁЯЫбя╕П Admin Panel</h1>

  <div class="section upload-section">
    <h2>ЁЯУ░ ржирждрзБржи ржирж┐ржЙржЬ ржЖржкрж▓рзЛржб</h2>
    <input type="text" id="title" placeholder="ржирж┐ржЙржЬ рж╢рж┐рж░рзЛржирж╛ржо" />
    <textarea id="content" placeholder="ржирж┐ржЙржЬ ржХржирзНржЯрзЗржирзНржЯ"></textarea>
    <input type="text" id="image" placeholder="ржЫржмрж┐рж░ URL" />
    <input type="text" id="video" placeholder="ржнрж┐ржбрж┐ржУрж░ URL" />
    <button onclick="addNews()">тЬЕ ржЖржкрж▓рзЛржб ржХрж░рзЛ</button>
  </div>

  <div class="section manage-section">
    <h2>ЁЯУЛ рж╕ржм ржирж┐ржЙржЬ</h2>
    <div id="newsContainer"></div>
  </div>

  <script>
    // тЬЕ Firebase Config
    const firebaseConfig = {
      apiKey: "AIzaSyBQEZ0WIG92RzwI6e6TnBmTp4MgrYSMLBs",
      authDomain: "news247-64290.firebaseapp.com",
      databaseURL: "https://news247-64290-default-rtdb.asia-southeast1.firebasedatabase.app",
      projectId: "news247-64290",
      storageBucket: "news247-64290.firebasestorage.app",
      messagingSenderId: "86736515101",
      appId: "1:86736515101:web:061d198e92e4b46c3956f4",
      measurementId: "G-BK7QNFZT96"
    };

    // ЁЯФе Initialize Firebase
    const app = firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    // тЬЕ Add News
    function addNews() {
      const title = document.getElementById("title").value;
      const content = document.getElementById("content").value;
      const image = document.getElementById("image").value;
      const video = document.getElementById("video").value;

      const newRef = db.ref("news").push();
      newRef.set({
        title,
        content,
        image,
        video,
        published: true,
        timestamp: Date.now()
      });

      document.getElementById("title").value = "";
      document.getElementById("content").value = "";
      document.getElementById("image").value = "";
      document.getElementById("video").value = "";
    }

    // тЬЕ Load News
    function loadNews() {
      const container = document.getElementById("newsContainer");
      container.innerHTML = "";

      db.ref("news").on("value", snapshot => {
        container.innerHTML = "";
        snapshot.forEach(child => {
          const data = child.val();
          const key = child.key;
          const div = document.createElement("div");
          div.className = "news-item";
          div.innerHTML = `
            <h3>${data.title}</h3>
            <p>${data.content}</p>
            <p>ЁЯУ╕ ржЫржмрж┐: ${data.image || "ржирзЗржЗ"} | ЁЯОе ржнрж┐ржбрж┐ржУ: ${data.video || "ржирзЗржЗ"}</p>
            <p>рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕: ${data.published ? "тЬЕ ржкрж╛ржмрж▓рж┐рж╢ржб" : "тЫФ ржЖржиржкрж╛ржмрж▓рж┐рж╢ржб"}</p>
            <button onclick="togglePublish('${key}', ${!data.published})">ЁЯУд ${data.published ? "ржЖржиржкрж╛ржмрж▓рж┐рж╢" : "ржкрж╛ржмрж▓рж┐рж╢"}</button>
            <button onclick="deleteNews('${key}')">ЁЯЧСя╕П ржбрж┐рж▓рж┐ржЯ</button>
          `;
          container.appendChild(div);
        });
      });
    }

    // тЬЕ Toggle Publish
    function togglePublish(key, status) {
      db.ref("news/" + key).update({ published: status });
    }

    // тЬЕ Delete News
    function deleteNews(key) {
      db.ref("news/" + key).remove();
    }

    // тЬЕ Initial Load
    window.onload = loadNews;
  </script>
</body>
</html>
